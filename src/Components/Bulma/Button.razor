@namespace StableCube.Bulzor

<button class="button @GetColorClass()" type="@Type" disabled="@Disabled" @onclick="@(async (args) => await ClickedHandlerAsync(args))">
    @ChildContent
</button>

@code {
    [CascadingParameter]
    public BulzerTheme Theme { get; set; }

    [Parameter]
    public bool Disabled { get; set; }

    [Parameter]
    public string Type { get; set; } = "button";

    [Parameter]
    public BulmaColor Color { get; set; } = BulmaColor.Primary;

    [Parameter]
    public EventCallback<EventArgs> OnClick { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    protected override void OnParametersSet()
    {
        StateHasChanged();
    }

    public async Task ClickedHandlerAsync(EventArgs args)
    {
        await OnClick.InvokeAsync(args);
    }

    private string GetColorClass()
    {
        return BulmaClassHelper.ColorClass(Color);
    }
}